<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phone Store</title>
    <script src="./products.js"></script>
    <link rel="stylesheet" href="./products_styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Times+New+Roman:wght@500&display=swap" rel="stylesheet">
</head>

<!-- This code will load the order page showing the product data and price of each product-->

<style>
    html, body {
        background-color: gradient(to bottom, lightblue , blue);
        height: 100%;
    }
</style>

<script>
    //when page loads, check the URL for existence of each of the paramters
    window.onload = function () {
        let params = (new URL(document.location)).searchParams;
        //if the alert parameter exists, load the alert on the client or customer's browser
        if (params.has("alert_error")){
            alert(params.get("alert_error"));
        }
    }
</script>


<body>
    <div class="header_container"><h1>Kameron's Smartphone Store!</h1></div>
   
    <div class="welcome_container">
        <h3>Aloha! Discover the tiems below for top of the line phones from top of the line brands you trust!</h3>
    </div>

    <br>
    <form action="./index.html" name="purchases_form" method="post">
        <div class="item_container">

            <!-- Pull each product from the products JSON file and create a section for it on the order page -->
        
            <script>
                //Going through the product_array and putting each item and it's data on the order page in products display
                for (i in products_array) {
                    document.write(`
                    <div class="item">
                        <img class="item_image" src=${products_array[i].image} alt="">
                        <p class="item_name">${products_array[i].name}</p>
                        <p class="item_price">Price: $${products_array[i].price}</p>
                        <label for="quantity_input">Qty</label>
                        <input type="text" name="qty_textbox" maxlength="3" value="0">
                        <p>In stock: ${products_array[i].quantity_available}</p>
                    </div>
                `)
                }
            </script>
          
        </div>
            <div class="submit_container">
                <input type="submit" name="submit_button" id="submit_button" value="Place Order Now!" onclick="print='Mahalo for your order!'">
             </div>
    </form>
        
</body>
</html>